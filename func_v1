from datetime import datetime
import time


# из нормального времени(по дефолту 'год-месяц-день часы:минуты:секунды') в unix

def to_unix(date_string, date_format="%Y-%m-%d %H:%M:%S"):
    dt = datetime.strptime(date_string, date_format)
    unix_time = int(dt.timestamp())
    return unix_time


# из unix в нормальное время(по дефолту 'год_месяц-день часы:минуты:секунды')

def to_date(unix_time, date_format="%Y-%m-%d %H:%M:%S"):
    dt = datetime.fromtimestamp(unix_time)
    formatted_date = dt.strftime(date_format)
    return formatted_date


# проверяем, принадлежит ли дата(в unix) временному отрезку от 5 мин до 7 дней
def is_unix_time_valid(unix_time):
    current_time = time.time() + 10800  # Добавляем 3 часа (10800 секунд) к текущему времени
    time_difference = current_time - unix_time  # Вычисляем разницу
    # Проверяем условия: больше 5 минут (300 секунд) и меньше 7 дней (604800 секунд)
    if 300 < time_difference < 604800:
        return True
    return False


# проверяем, принадлежит ли дата(в unix) временному отрезку от 5 мин до 7 дней
def is_normal_time_valid(date_string, date_format="%Y-%m-%d %H:%M:%S"):
    dt = datetime.strptime(date_string, date_format)
    unix_time = int(dt.timestamp())
    current_time = time.time() + 10800
    time_difference = current_time - unix_time
    if 300 < time_difference < 604800:
        return True
    return False
